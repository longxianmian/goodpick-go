# ================================
# GoodPick Go 环境变量配置示例
# ================================
# 复制此文件为 .env 并填入实际值
# 在 Replit 中使用 Secrets 面板配置，在阿里云使用环境变量或 .env 文件

# --------------------------------
# 数据库配置
# --------------------------------
# PostgreSQL 连接字符串
# 格式: postgresql://用户名:密码@主机:端口/数据库名?sslmode=require
DATABASE_URL=postgresql://user:password@host:5432/database

# --------------------------------
# JWT 安全配置
# --------------------------------
# JWT 签名密钥（生产环境必须设置为强随机字符串）
JWT_SECRET=your-strong-random-secret-key-here

# JWT Token 过期时间（默认 7 天）
JWT_EXPIRES_IN=7d

# --------------------------------
# LINE 平台配置
# --------------------------------
# LINE Login Channel ID（在 LINE Developers Console 获取）
LINE_CHANNEL_ID=1234567890

# LINE Login Channel Secret（在 LINE Developers Console 获取）
LINE_CHANNEL_SECRET=your-line-channel-secret

# LIFF App ID（在 LINE Channel 的 LIFF 标签页创建 LIFF app 后获取）
# 格式: 1234567890-abcdefgh
LIFF_ID=1234567890-abcdefgh

# --------------------------------
# OpenAI API 配置（用于内容翻译）
# --------------------------------
# 通过 Replit AI Integrations 自动配置
AI_INTEGRATIONS_OPENAI_BASE_URL=https://api.openai.com/v1
AI_INTEGRATIONS_OPENAI_API_KEY=sk-...

# --------------------------------
# 对象存储配置（用于图片上传）
# --------------------------------
# 阿里云 OSS 配置
OSS_ACCESS_KEY_ID=your-oss-access-key-id
OSS_ACCESS_KEY_SECRET=your-oss-access-key-secret
OSS_BUCKET=your-bucket-name
OSS_REGION=oss-ap-southeast-1

# Google Cloud Storage 配置（可选）
DEFAULT_OBJECT_STORAGE_BUCKET_ID=your-gcs-bucket-id

# 对象存储路径配置
PUBLIC_OBJECT_SEARCH_PATHS=public
PRIVATE_OBJECT_DIR=.private

# --------------------------------
# Session 配置
# --------------------------------
# Session 密钥（用于 OAuth state 存储）
SESSION_SECRET=your-session-secret-key

# --------------------------------
# 前端环境变量（需要 VITE_ 前缀）
# --------------------------------
# 后端 API 根地址
# 开发环境: https://your-replit-domain.replit.dev
# 生产环境: https://your-domain.com
VITE_API_BASE_URL=https://your-replit-domain.replit.dev

# LIFF App ID（前端初始化 LIFF SDK 使用）
VITE_LIFF_ID=1234567890-abcdefgh

# LINE Channel ID（前端构建 OAuth URL 使用）
VITE_LINE_CHANNEL_ID=1234567890

# --------------------------------
# 运行环境标识
# --------------------------------
# 环境类型: development | production
NODE_ENV=development

# Replit 环境标识（自动设置）
REPL_ID=your-repl-id

# --------------------------------
# Google Maps API 配置（用于地图导航）
# --------------------------------
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# --------------------------------
# PostgreSQL 连接参数（Neon/Replit 自动配置）
# --------------------------------
PGHOST=your-db-host
PGPORT=5432
PGUSER=your-db-user
PGPASSWORD=your-db-password
PGDATABASE=your-db-name

# ================================
# 重要配置说明
# ================================
#
# 1. LINE Developers Console 配置:
#    - 访问: https://developers.line.biz/console/
#    - 创建 LINE Login Channel
#    - 配置 Callback URL: https://your-domain/api/auth/line/callback
#    - 创建 LIFF App，设置 Endpoint URL: https://your-domain/campaign/{id}
#    - Scopes 选择: profile, openid
#
# 2. 安全建议:
#    - JWT_SECRET 必须使用强随机字符串（生产环境）
#    - SESSION_SECRET 同样需要强随机字符串
#    - 不要将 .env 文件提交到 Git 仓库
#
# 3. 迁移到阿里云:
#    - 更新 VITE_API_BASE_URL 为阿里云域名
#    - 更新 DATABASE_URL 为阿里云数据库连接字符串
#    - 在 LINE Console 中更新 Callback URL 和 LIFF Endpoint URL
#    - 配置阿里云 OSS 相关参数
#
# 4. 前端环境变量:
#    - 所有前端使用的变量必须以 VITE_ 开头
#    - 在 Replit 中需要在 Secrets 面板中添加
#    - 修改后需要重启开发服务器才能生效
